1000  '|------------------------------------------------------------------------------------------------------------------|
1010  '| CosRun.mb4                                                                                                       |
1020  '| Demo program for StationAssemblyRV3SB                                                                            |
1030  '|------------------------------------------------------------------------------------------------------------------|
1040  '| Author    : Thorsten Koch Fa. EFR-Systems GmbH 16.01.2006                                                        |
1050  '|------------------------------------------------------------------------------------------------------------------|
1060   *START
1070     M_OUTW(0) = 0                 'reset outputword 0 (Out0-Out15)
1080     M_19 = 0                      'reset handshake variable  
1090     M_10 = 0                      'reset automatic active variable
1100     M_11 = 0                      'reset station ready variable
1110     M_12 = 0                      'reset emergency stop variable
1120     CALLP "COSInit"               'load program "INIT" 
1130
1140  '------------------------------------------------------------------------------
1150  ' MBP - MoveBasePlate(Source, Target)
1160  '------------------------------------------------------------------------------
1170     M_00 = 1                      'Source Position
1180     M_01 = 5                      'Target Position
1190     CALLP "MBP"                   'call subprogram
1200  
1210  '------------------------------------------------------------------------------
1220  ' MINST 1.1 - Move Instrument(Source, Target)
1230  '------------------------------------------------------------------------------
1240     M_00 = 1                      'Source Position
1250     M_01 = 5                      'Target Position
1260     CALLP "MINST"                 'call subprogram
1270  
1280  '------------------------------------------------------------------------------
1290  ' MINST 1.2 - Move Instrument(Source, Target)
1300  '------------------------------------------------------------------------------
1310     M_00 = 5                      'Source Position
1320     M_01 = 3                      'Target Position
1330     M_02 = M_ANIN(0)              'Instrument orientation
1340     CALLP "MINST"                 'call subprogram
1350  
1360  '------------------------------------------------------------------------------
1370  ' MINST 2.1 - Move Instrument(Source, Target)
1380  '------------------------------------------------------------------------------
1390     M_00 = 2                      'Source Position
1400     M_01 = 5                      'Target Position
1410     CALLP "MINST"                 'call subprogram
1420  
1430  '------------------------------------------------------------------------------
1440  ' MINST 2.2 - Move Instrument(Source, Target)
1450  '------------------------------------------------------------------------------
1460     M_00 = 5                      'Source Position
1470     M_01 = 4                      'Target Position
1480     M_02 = M_ANIN(0)              'Instrument orientation
1490     CALLP "MINST"                 'call subprogram
1500  
1510  '------------------------------------------------------------------------------
1520  ' MPH - AssemblePenHolder(Source, Target)
1530  '------------------------------------------------------------------------------
1540     M_00 = 2                      'Source Position
1550     M_01 = 5                      'Target Position
1560     CALLP "MPH"                   'call subprogram
1570  
1580  '------------------------------------------------------------------------------
1590  ' ASMP - AssemblePen(Source)
1600  '------------------------------------------------------------------------------
1610     M_00 = 0                      'Source Position
1620     CALLP "ASMP"                  'call subprogram
1630  
1640  '------------------------------------------------------------------------------
1650  ' MBP - MoveBasePlate(Source, Target)
1660  '------------------------------------------------------------------------------
1670     M_00 = 5                      'Source Position
1680     M_01 = 1                      'Target Position
1690     CALLP "MBP"                   'call subprogram
1700  '------------------------------------------------------------------------------
1710  ' MBP - MoveBasePlate(Source, Target)
1720  '------------------------------------------------------------------------------
1730     M_00 = 1                      'Source Position
1740     M_01 = 5                      'Target Position
1750     CALLP "MBP"                   'call subprogram
		CALLP "DES"
1760  
1770  '------------------------------------------------------------------------------
1780  ' Finish
1790  '------------------------------------------------------------------------------
1800  *END
1810     END
